<!DOCTYPE html>
<html lang="en">
<head>
	<title>Table V02</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="images/icons/favicon.ico"/>
<!--===============================================================================================-->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"><!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"> 
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/perfect-scrollbar/perfect-scrollbar.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
<!--===============================================================================================-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script> 

</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<a class="navbar-brand" href="#">Navbar</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		  <span class="navbar-toggler-icon"></span>
		</button>
	  
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
		  <ul class="navbar-nav mr-auto">
			<li class="nav-item active">
			  <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
			</li>
			<li class="nav-item">
			  <a class="nav-link" href="Create.html">Create a article</a>
			</li>
		  </ul>
		</div>
	  </nav>	
<div class="container">
<div class="card mt-5">
	<div class="card-header">
	<h2>liste des articles</h2>
	</div>
	<div class="card-body">
	<div class="limiter">
		<div class="container-table100" style="background: #fff;"> 
			<div class="wrap-table100" style="border: 1px solid hsl(210, 8%, 80%);">
					<div class="table" id="List-phone">

						<div class="row header">
							<div class="cell">
								Name
							</div>
							<div class="cell">
								Description
							</div>
							<div class="cell">
								Date
							</div>
							<div class="cell">
								active/Update
							</div>
						</div>

						<div class="row">
							<div class="cell" data-title="Name">
								My phone
							</div>
							<div class="cell" data-title="Description">
								Lorem ipsum dolor sit amet consectetur adipisicing elit. A adipisci sunt accusamus quo ad corporis soluta! Culpa eaque, et nam ipsum adipisci, accusamus distinctio ea blanditiis suscipit illo temporibus. Non?
							</div>
							<div class="cell" data-title="Date">
								25/12/2021
							</div>
							<div class="cell" data-title="active/Update">
								none
							</div>
						</div>
						<div id="Info-phone"></div>
					</div>
			</div>
		</div>
	</div>
<div id="test"></div>
<div class="container">
	<div class="row">
		<div class="jumbotron col-md-4">
			Lorem ipsum dolor sit, amet consectetur adipisicing elit. Corporis facere obcaecati, in ipsa quidem laudantium asperiores vero maiores veniam autem iste modi dolore nobis tempore non? Exercitationem eligendi omnis eum.
		</div>
	</div>
</div>
</div><br>

<div id="result"></div>
<div id="test"></div>

<div class="container">
  <!-- Button to Open the Modal -->
  <!-- The Modal -->
  <div class="modal" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Modal Heading</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
          <div class="form-group">
            <label>libelle</label>
            <textarea type="text" class="form-control" id="Name"></textarea>
          </div>
          <div class="form-group">
            <label>prix</label>
            <textarea type="text" class="form-control" id="Description"></textarea>
          </div>       
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <a href="#" id="save" class="btn btn-primary pull-right">Update </a>
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
  </div>

  <div class="modal" id="myModal-2">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">valide modale</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
			Valider Le produit
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <a href="#" id="conserve" class="btn btn-primary pull-right"> Oui </a>
          <button type="button" class="btn btn-danger" data-dismiss="modal"> Non </button>
        </div>
        
      </div>
    </div>
  </div> 
  

</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript">
	var text;
	$(document).ready(function(){	

		$.ajax({
			type: "POST",
			dataType: 'json',
			url: 'Traitement01.php',
			success: function(Reponse)
			{
				var x = document.getElementById('List-phone');	
				for (let i = 0; i < Reponse.length; i++) {
					valide = "";
					if (Reponse[i].actif01 == "0") {
						valide = "<a class=\"btn btn-success start\" data-id=" + Reponse[i].id_S + "> <i class=\"fas fa-check\"></i> </a> "
					}
					description = Reponse[i].Description_S;
					j = i+1;
					text = "<div id=\"Info-phone"+ Reponse[i].id_S +"\"></div>" + '<div class="row" id='+ Reponse[i].id_S +'> <div class="cell" data-title="Name" data-val="'+ Reponse[i].nom_S +'">' + j + '-  ' + Reponse[i].nom_S + '</div>' 
							+ '<div class="cell" data-title="Description" data-val="'+ Reponse[i].Description_S +'">' + description.substr(0, 82) + '</div>' 
							+ '<div class="cell" data-title="Date">' + Reponse[i].data_S + '</div>'
					 		+ '<div class="cell" data-title="active/Update">'
							+ "<a class=\"btn btn-primary Active\" id=" + Reponse[i].id_S + " data-id=" + Reponse[i].id_S + "> <i class=\"fas fa-wrench\"></i> </a> " + valide + ' </div>'
							+ "</div><div id=\"Info-phone"+ Reponse[i].id_S +"\"></div>"	;
					x.innerHTML += text;
					
				}
				$(".Active").click(function(){
					Id = $(this).data("id") 
					var Name = $('#' + Id).children("div[data-title=Name]").data("val"),
					Description = $('#' + Id).children("div[data-title=Description]").data("val");

					$("#Name").val(Name) ;
					$("#Description").val(Description) ;

					$("#myModal").modal("toggle") ;	

				})
				$("#save").click(function(){
					var name = $("#Name").val(),
					description = $("#Description").val();

					$.ajax({
						url	:"Traitement02.php",
						method	:"POST",
						data :{name:name,description:description,id:Id},
						success:function(reponse)
						{
							$("#" + Id).children("div[data-title=Name]").text(name);
							$("#" + Id).children("div[data-title=Description]").text(description);
							$("#myModal").modal("toggle") ;	
							$("#test").html(reponse) ;	
						}
					});
				})
				$(".start").click(function(){
					$("#myModal-2").modal("toggle");
					hide = $(this);
					x = $(this).data('id');
				})	
				
				$("#conserve").click(function(){
					var Id = x;
					$.ajax({
						url	:"Traitement02.php",
						method	:"POST",
						data :{Id:Id},
						success:function(result)
						{	
							$("#result").html(result);	
							$("#myModal-2").modal("toggle");
							hide.fadeToggle(500);	

						}
					});	

				})				


			}
		});	
		$.ajax({
			type: "POST",
			dataType: 'json',
			url: 'Test.php',	
			success: function(Reponse)
			{

				for (let I = 0; I < Reponse.length; I++) 
				{
					var x = document.getElementById("Info-phone" + Reponse[I].id_Ds), txt1, txt2;
					txt1 = "<div class=\"jumbotron col-md-4\">"+ Reponse[I].Ram +"</div>" + "<div class=\"jumbotron col-md-4\">"+ Reponse[I].Processeur + "</div>" +
					"<div class=\"jumbotron col-md-4\">"+ Reponse[I].Memoire +"</div>" + "<div class=\"jumbotron col-md-4\">"+ Reponse[I].Batterie +"</div>" +
					"<div class=\"jumbotron col-md-4\">"+ Reponse[I].Resolution +"</div>" + "<div class=\"jumbotron col-md-4\">"+ Reponse[I].Selfie +"</div>" + 
					"<div class=\"jumbotron col-md-4\">"+ Reponse[I].Camera +"</div>" + "<div class=\"jumbotron col-md-4\">"+ Reponse[I].Ecran +"</div>" 
					+ "<div class=\"jumbotron col-md-4\">"+ Reponse[I].Autre_D +"</div>";

					txt2 += '<div class="container">'
					+ '<div class="row">' + txt1 + '</div> </div>';
					x.innerHTML += txt2;
				}
			}
		});	
	})	

</script>

<!--===============================================================================================-->	
	<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/bootstrap/js/popper.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
	<script src="vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
	<script src="js/main.js"></script>




</body>
</html>